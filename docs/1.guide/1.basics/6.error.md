---
icon: tabler:error-404
---

# Error Handling

> Send errors by throwing an HTTPError.

You can easily create standard HTTP errors using `HTTPError` with different syntaxes.

```js
import { HTTPError } from "h3";

app.get("/error", (event) => {
  // Using message and details
  throw new HTTPError("Invalid user input", { status: 400 });

  // Using HTTPError.status(code)
  throw HTTPError.status(400, "Bad Request");

  // Using single pbject
  throw new HTTPError({
    status: 400,
    statusText: "Bad Request",
    message: "Invalid user input",
    data: { field: "email" },
    body: { date: new Date().toJSON() },
    headers: {},
  });
});
```

This will end the request with `400 - Bad Request` status code and the following JSON response:

```json
{
  "date": "2025-06-05T04:20:00.0Z",
  "status": 400,
  "statusText": "Bad Request",
  "message": "Invalid user input",
  "data": {
    "field": "email"
  }
}
```

**Error Fields:**

- `status`: HTTP status code in range 200...599
- `statusText`: HTTP status text.
- `message`: HTTP Error message in JSON body.
- `unhandled`: Flag to indicate error was not handled by the application.
- `data`: Additional data to attach in the error JSON body under `data` key.
- `body`: Additional top level JSON body properties to attach in the error JSON body.
- `headers`: Additional HTTP headers to be sent in error response.
- `cause`: Original error object that caused this error. Very useful for tracing and debugging!

> [!IMPORTANT]
> Error `statusText` should be short (max 512 to 1024 characters) and only include tab, spaces or visible ASCII charactersand extended characters (byte value 128â€“255).

## Unhandled Errors

Any error that occurs during calling an [Event Handler](/guide/basics/handler) without using `HTTPError` will be processed as an "unhandled" error. H3 hides certain fields (`data`, `body` and `message`) in HTTP response for this errors for enhanced security.

```js
app.get("/error", (event) => {
  // This will cause an unhandled error.
  throw new Error("Something went wrong");
});
```

## Catching Errors

You can use either [`onError`](/guide/api/h3#global-hooks) global hook or `onError` [middleware](/guide/basics/middleware) to catch errors.

```js
import { H3, onError } from "h3";

// Globally handling errors
const app = new H3({
  onError: (error) => {
    console.error(error);
  },
});

// Handling errors using middleware
app.use(
  onError(event, (error) => {
    console.error(error);
  }),
);
```

> [!IMPORTANT]
> When using nested apps, global hooks of sub-apps will not be called. Therefore it is better to use `onError` middleware.

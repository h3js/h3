---
icon: si:json-fill
---

# Sending Response

Values returned from event handlers are automatically converted to HTTP response body.

If returned value from event handler is a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) or from an [async function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function), H3 will wait for it to resolve before sending the response.

### `null` or `undefined`

Sends a response with empty body in [route handlers](/guide/routing#adding-routes) or goes to next handler for [middleware handlers](/guide/routing#adding-middleware).

> [!TIP]
> If there is no `return` statement in event handler, it is same as `return undefined`.

### String

Returning a string value, sends it as plain text body.

> [!NOTE]
> If not setting `content-type`, it can default to `text/plain;charset=UTF-8`.

**Example:** Send HTML response

```ts
app.get("/", (event) => {
  event.res.headers.set("Content-Type", "text/html;charset=UTF-8");
  return "<h1>hello world</h1>";
});
```

### JSON Serializable Value

Returning a [JSON](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON) serializable value (**object**, **array**, **number** or **boolean**), it will be stringified using [JSON.stringiy()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) and sent with default `application/json` content-type.

**Example:**

```ts
app.get("/", (event) => ({ hello: "world" }));
```

> [!TIP]
> You can add `toJSON()` method in object to customize serialization behavior. Check [MDN docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) for more info.

### `Response`

Send a standard web [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).

**Example:**

```ts
app.get("/", (event) => Response.json({ hello: "world" }));
```

> [!NOTE]
> When sending a `Response`, any headers that set using `event.res.headers` before, will be merged as default headers. `event.res.{status/statusText}` will be ignored.
> <br>
> For performance reasons, it is best to only set headers only from final `Response`.

### `ReadableStream` or `Readable`

Send a standard web [ReadableStream](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream) or node [Readable](https://nodejs.org/api/stream.html#readable-streams).

### `ArrayBuffer` or `Uint8Array` or `Buffer`

Send binary [ArrayBuffer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer), [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) or node [Buffer](https://nodejs.org/api/buffer.html#buffer).

`content-length` header will be automatically set.

### `Error`

Retuning an [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) instance will send it.

It is better to `throw` errors instead of returning them and using `createError` utility.

### `BigInt`

Value will be sent as stringified version of BigInt number.

> [!NOTE]
> Returning a JSON object, does not allows BigInt serialization. You need to implement `toJSON`. Check [MDN docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) for more info.

### `Blob`

Send a standard web [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob) as stream.

`Content-type` and `Content-Length` headers will be automatically set.

### `File`

Send a standard web [File](https://developer.mozilla.org/en-US/docs/Web/API/File) as stream.

`Content-type`, `Content-Length` and `Content-Disposition` headers will be automatically set.

### `Symbol` or `Function`

Returning Symbol or Function has undetermined behavior. Current version sends a string-like representation of unknown Symbols and Functions but it might be changed to throw an error, never return them. There are some internal known Symbols h3 internally uses (can change in future):

- `Symbol.for("h3.notFound")`: Indicate no route is found to throw a 404 error.
- `Symbol.for("h3.handled")`: Indicate request is somehow handled and h3 should not continue (Node.js specific).

---
icon: mdi:middleware-outline
---

# Middleware

You can register global middleware using [`app.use`](/guide/app#appuse) to intercept requests. They can be used to add side effects to your application such as logging, caching, etc or to modify the request or response.

If you return a value from middleware, it will act as a normal event handler and sent it as response.

**Example:** Simple request logger.

```js [log.mjs]
app.use((event) => {
  console.log(`[${event.req.method}] ${event.req.url}`);
});
```

**Example:** Intercept responses.

```js [intercept.mjs]
app.use(async (event, next) => {
  const rawResponse = await next();
  return rawResponse;
});
```

You can define as much middleware as you need. They will be called in order of registration.

:read-more{to="/guide/routing#adding-middleware"}
